<div class="card">
    <ng-template #defaultImage>
        <img class="card-img-top" [src]="'https://www.pulsecarshalton.co.uk/wp-content/uploads/2016/08/jk-placeholder-image.jpg'">
    </ng-template>
    <img *ngIf="product.data.imageUrl else defaultImage" class="card-img-top" [src]="product.data.imageUrl">

    <div class="card-body">
        <h5 class="card-title">{{product.data.title || "no title"}}</h5>
        <p class="card-text">
            {{(product.data.price | currency:'CAD':'symbol') || "no price"}}
        </p>
        
    </div>
    <div *ngIf="showActions" class="card-footer" >
        <button *ngIf="getQuantity() === 0; else updateQuantity" (click)="addToCart()" class="btn btn-secondary btn-block">Add to Cart</button>
        <ng-template #updateQuantity>
            <div class="row g-0">
                <div class="col-2">
                    <button
                        (click)="removeFromCart()" 
                        class="btn btn-secondary btn-block">-</button>
                </div>
                <div class="col justify-content-center d-flex align-items-center">
                    {{ getQuantity() }} in cart
                </div>
                <div class="col-2">
                    <button 
                        (click)="addToCart()"
                        class="btn btn-secondary btn-block">+</button>
                </div>
            </div>
        </ng-template>
    </div>
</div>
